{"ast":null,"code":"import{createAsyncThunk,createSlice}from\"@reduxjs/toolkit\";import api from\"../../api/api\";import axios from\"axios\";export const get_category=createAsyncThunk('product/get_category',async(_,_ref)=>{let{fulfillWithValue}=_ref;try{const{data}=await axios.get('http://34.231.21.116:8100/categories');// const { data } = await api.get('category/categories')\nconsole.log(data);return fulfillWithValue(data);}catch(error){console.log(error.respone);}});// End Method \nexport const get_products=createAsyncThunk('product/get_products',async(_,_ref2)=>{let{fulfillWithValue}=_ref2;try{const{data}=await axios.get('http://34.201.112.72:8200/products');// const { data } = await api.get('product/products')\nconsole.log(data);return fulfillWithValue(data);}catch(error){console.log(error.respone);}});// End Method \nexport const product_details=createAsyncThunk('product/product_details',async(slug,_ref3)=>{let{fulfillWithValue}=_ref3;try{const{data}=await axios.get(\"http://localhost:8200/product/details/\".concat(slug));// const { data } = await api.get(`product/product/details/${slug}`)\nconsole.log(\"product details\"+data);return fulfillWithValue(data);}catch(error){console.log(error.respone);}});// End Method \nexport const query_products=createAsyncThunk('product/query_products',async(query,_ref4)=>{let{fulfillWithValue}=_ref4;try{const{data}=await axios.get(\"http://localhost:8200/product?category=\".concat(query.category,\"&&searchValue=\").concat(query.searchValue?query.searchValue:''));// const { data } = await axios.get(`product/product?category=${query.category}&&searchValue=${query.searchValue ? query.searchValue : ''}`)\nconsole.log(data);return fulfillWithValue(data);}catch(error){console.log(error.respone);}});export const add_product=createAsyncThunk('product/add_product',async(info,_ref5)=>{let{fulfillWithValue}=_ref5;try{// const { data } = await api.post(`/product/add`, info)\nconsole.log(\"axios \"+info);const response=await axios.post('http://localhost:8200/product/add',info);// const response = await api.post(\n//     'product/product/add',\n//     info\n//   );\nconsole.log(response);return fulfillWithValue(response);}catch(error){console.log(error.respone);}});// End Method \nexport const homeReducer=createSlice({name:'home',initialState:{categorys:[],products:[],detail:{}},reducers:{},extraReducers:builder=>{builder.addCase(get_category.fulfilled,(state,_ref6)=>{let{payload}=_ref6;console.log(\"fullfill category payload \"+payload);state.categorys=payload;}).addCase(get_products.fulfilled,(state,_ref7)=>{let{payload}=_ref7;console.log(\"fullfill products payload \"+JSON.stringify(payload));state.products=payload;}).addCase(query_products.fulfilled,(state,_ref8)=>{let{payload}=_ref8;state.products=payload;}).addCase(product_details.fulfilled,(state,_ref9)=>{let{payload}=_ref9;state.detail=payload;});}});export default homeReducer.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","api","axios","get_category","_","_ref","fulfillWithValue","data","get","console","log","error","respone","get_products","_ref2","product_details","slug","_ref3","concat","query_products","query","_ref4","category","searchValue","add_product","info","_ref5","response","post","homeReducer","name","initialState","categorys","products","detail","reducers","extraReducers","builder","addCase","fulfilled","state","_ref6","payload","_ref7","JSON","stringify","_ref8","_ref9","reducer"],"sources":["/Users/win/Documents/FullStack/IBM/ecommerce-frontend/src/store/reducers/homeReducer.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport api from \"../../api/api\";\nimport axios from \"axios\";\n\nexport const get_category = createAsyncThunk(\n    'product/get_category',\n    async (_, { fulfillWithValue }) => {\n        try {\n            const { data } = await axios.get('http://34.231.21.116:8100/categories')\n            // const { data } = await api.get('category/categories')\n            console.log(data)\n            return fulfillWithValue(data)\n        } catch (error) {\n            console.log(error.respone)\n        }\n    }\n)\n// End Method \n\nexport const get_products = createAsyncThunk(\n    'product/get_products',\n    async (_, { fulfillWithValue }) => {\n        try {\n            const { data } = await axios.get('http://34.201.112.72:8200/products')\n            // const { data } = await api.get('product/products')\n            console.log(data)\n            return fulfillWithValue(data)\n        } catch (error) {\n            console.log(error.respone)\n        }\n    }\n)\n// End Method \n\nexport const product_details = createAsyncThunk(\n    'product/product_details',\n    async (slug, { fulfillWithValue }) => {\n        try {\n            const { data } = await axios.get(`http://localhost:8200/product/details/${slug}`)\n            // const { data } = await api.get(`product/product/details/${slug}`)\n            console.log(\"product details\" + data)\n            return fulfillWithValue(data)\n        } catch (error) {\n            console.log(error.respone)\n        }\n    }\n)\n// End Method \n\nexport const query_products = createAsyncThunk(\n    'product/query_products',\n    async (query, { fulfillWithValue }) => {\n        try {\n            const { data } = await axios.get(`http://localhost:8200/product?category=${query.category}&&searchValue=${query.searchValue ? query.searchValue : ''}`)\n            // const { data } = await axios.get(`product/product?category=${query.category}&&searchValue=${query.searchValue ? query.searchValue : ''}`)\n            console.log(data)\n            return fulfillWithValue(data)\n        } catch (error) {\n            console.log(error.respone)\n        }\n    }\n)\n\nexport const add_product = createAsyncThunk(\n    'product/add_product',\n    async (info, { fulfillWithValue }) => {\n        try {\n\n            // const { data } = await api.post(`/product/add`, info)\n            console.log(\"axios \"+info)\n            const response = await axios.post(\n                'http://localhost:8200/product/add',\n                info\n              );\n            // const response = await api.post(\n            //     'product/product/add',\n            //     info\n            //   );\n\n            console.log(response)\n            return fulfillWithValue(response)\n        } catch (error) {\n            console.log(error.respone)\n        }\n    }\n)\n\n// End Method \n\nexport const homeReducer = createSlice({\n    name: 'home',\n    initialState: {\n        categorys: [],\n        products: [],\n        detail: {}\n    },\n    reducers: {\n\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(get_category.fulfilled, (state, { payload }) => {\n                console.log(\"fullfill category payload \" + payload);\n                state.categorys = payload;\n            })\n            .addCase(get_products.fulfilled, (state, { payload }) => {\n                console.log(\"fullfill products payload \" + JSON.stringify(payload));\n                state.products = payload;\n            })\n            .addCase(query_products.fulfilled, (state, { payload }) => {\n                state.products = payload;\n            })\n            .addCase(product_details.fulfilled, (state, { payload }) => {\n                state.detail = payload;\n            })\n    }\n})\n\nexport default homeReducer.reducer"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}